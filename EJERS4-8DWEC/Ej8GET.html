<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Ejercicio 8 GET</title>
		<script type="text/javascript">

			if (window.XMLHttpRequest){
			    xhr = new XMLHttpRequest();
			}else if (ActiveXObject("Microsoft.XMLHTTP")){
			    xhr = ActiveXObject("Microsoft.XMLHTTP");
			}

			function comprobarLogin(e){
				e.preventDefault();
			    xhr.onreadystatechange = function () {

			    	if (xhr.status == 200 && xhr.readyState == 4){
			        	resultado.innerHTML = xhr.responseText;
				    }else if (xhr.status != 200 && xhr.readyState != 4){
				        resultado.innerHTML = "Error " + xhr.status;
				        resultado.innerHTML += ": " + xhr.statusText;
				        resultado.innerHTML += "<br>" + xhr.getAllResponseHeaders();
				    }

			    }
			    xhr.open("GET", 'datos.txt?user=' + nom.value + "&pass=" + contra.value, true);
			    xhr.send();
			}

		</script>
	</head>
	<body>
		<form method="POST">
			Nombre <input type="text" name="nombre" id="nom"><br>
			Password <input type="password" name="pass" id="contra">
			<p id="resultado"></p>
			<input type="submit" value="Enviar" onclick="comprobarLogin(event)">
		</form>
	</body>
</html>